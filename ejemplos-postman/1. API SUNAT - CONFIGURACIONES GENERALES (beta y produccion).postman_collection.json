{
	"info": {
		"_postman_id": "7d88837a-21b0-4488-bb67-f88e8086ce26",
		"name": "1. API SUNAT - CONFIGURACIONES GENERALES (beta y produccion)",
		"description": "Colecci√≥n completa del sistema de facturaci√≥n electr√≥nica SUNAT con soporte para ambientes Beta y Producci√≥n. Incluye configuraci√≥n paso a paso, todos los endpoints disponibles y workflows completos desde configuraci√≥n inicial hasta operaciones diarias.\n\nüèóÔ∏è **CONFIGURACI√ìN INICIAL REQUERIDA:**\n1. Configurar variables de ambiente (beta/producci√≥n)\n2. Ejecutar setup inicial del sistema\n3. Crear usuario administrador\n4. Configurar empresa con credenciales SUNAT\n5. Configurar sucursales y correlativos\n\nüìã **M√ìDULOS INCLUIDOS:**\n- Setup e inicializaci√≥n del sistema\n- Gesti√≥n de usuarios y autenticaci√≥n\n- Configuraci√≥n de empresas multi-tenant\n- Configuraciones avanzadas por empresa\n- Gesti√≥n de sucursales y clientes\n- Documentos electr√≥nicos (Facturas, Boletas, Notas)\n- Gu√≠as de remisi√≥n electr√≥nicas (GRE)\n- Res√∫menes diarios y anulaciones\n- Consultas CPE avanzadas\n- Servicios de ubigeo peruano\n\nüîÑ **AMBIENTES:**\n- **Beta**: Ambiente de pruebas SUNAT\n- **Producci√≥n**: Ambiente productivo SUNAT",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "20633485"
	},
	"item": [
		{
			"name": "FASE 1: INICIALIZACI√ìN DEL SISTEMA",
			"item": [
				{
					"name": "1.1 - Verificar Estado del Sistema",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/setup/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"setup",
								"status"
							]
						},
						"description": "Verifica el estado actual del sistema, base de datos y dependencias."
					},
					"response": []
				},
				{
					"name": "1.2 - Ejecutar Migraciones",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/setup/migrate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"setup",
								"migrate"
							]
						},
						"description": "Ejecuta todas las migraciones pendientes de base de datos."
					},
					"response": []
				},
				{
					"name": "1.3 - Ejecutar Seeders",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/setup/seed",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"setup",
								"seed"
							]
						},
						"description": "Ejecuta los seeders para datos iniciales (roles, permisos, ubigeos)."
					},
					"response": []
				},
				{
					"name": "1.4 - Informaci√≥n del Sistema",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/system/info",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"system",
								"info"
							]
						},
						"description": "Obtiene informaci√≥n detallada del sistema y configuraci√≥n."
					},
					"response": []
				}
			],
			"description": "Configuraci√≥n inicial del sistema antes de cualquier operaci√≥n. Incluye migraciones, seeders y verificaci√≥n del estado del sistema."
		},
		{
			"name": "FASE 2: GESTI√ìN DE USUARIOS Y AUTENTICACI√ìN",
			"item": [
				{
					"name": "2.1 - Inicializar Usuario Administrador",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success) {",
									"        console.log('‚úÖ Usuario administrador creado exitosamente');",
									"        console.log('üìß Email: ' + jsonData.data.email);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Administrador del Sistema\",\n    \"email\": \"admin@sistema-sunat.com\",\n    \"password\": \"Admin123!@#\",\n    \"password_confirmation\": \"Admin123!@#\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/initialize",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"initialize"
							]
						},
						"description": "Crea el primer usuario administrador del sistema. Solo funciona si no existen usuarios."
					},
					"response": []
				},
				{
					"name": "2.2 - Login y Obtener Token de Acceso",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.access_token) {",
									"        pm.collectionVariables.set('access_token', jsonData.access_token);",
									"        pm.collectionVariables.set('token_type', jsonData.token_type || 'Bearer');",
									"        pm.collectionVariables.set('user_id', jsonData.user.id);",
									"        pm.collectionVariables.set('user_name', jsonData.user.name);",
									"        console.log('‚úÖ Token obtenido: ' + jsonData.access_token.substring(0, 20) + '...');",
									"        console.log('üë§ Usuario: ' + jsonData.user.name + ' (' + jsonData.user.email + ')');",
									"        console.log('‚è∞ Expira en: ' + (jsonData.expires_in || 1440) + ' minutos');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@sistema-sunat.com\",\n    \"password\": \"Admin123!@#\",\n    \"token_name\": \"API Access Token\",\n    \"abilities\": [\"*\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Autentica usuario y obtiene token de acceso. El token se guarda autom√°ticamente."
					},
					"response": []
				},
				{
					"name": "2.3 - Verificar Usuario Autenticado",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/auth/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"auth",
								"me"
							]
						},
						"description": "Obtiene informaci√≥n del usuario actualmente autenticado."
					},
					"response": []
				},
				{
					"name": "2.4 - Crear Usuario Adicional",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Usuario Operativo\",\n    \"email\": \"operativo@empresa.com\",\n    \"password\": \"User123!@#\",\n    \"password_confirmation\": \"User123!@#\",\n    \"role\": \"company_user\",\n    \"company_id\": {{company_id}}\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/create-user",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"create-user"
							]
						},
						"description": "Crea usuarios adicionales para el sistema con roles espec√≠ficos."
					},
					"response": []
				},
				{
					"name": "2.5 - Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"logout"
							]
						},
						"description": "Cierra sesi√≥n y revoca el token actual."
					},
					"response": []
				}
			],
			"description": "Sistema de autenticaci√≥n completo con Laravel Sanctum, gesti√≥n de usuarios y tokens de API."
		},
		{
			"name": "FASE 3: GESTI√ìN DE EMPRESAS",
			"item": [
				{
					"name": "3.1 - Listar Empresas",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data && jsonData.data.length > 0) {",
									"        pm.collectionVariables.set('company_id', jsonData.data[0].id);",
									"        pm.collectionVariables.set('company_ruc', jsonData.data[0].ruc);",
									"        pm.collectionVariables.set('company_name', jsonData.data[0].razon_social);",
									"        console.log('‚úÖ Company ID seleccionado: ' + jsonData.data[0].id);",
									"        console.log('üè¢ Empresa: ' + jsonData.data[0].razon_social);",
									"        console.log('üìÑ RUC: ' + jsonData.data[0].ruc);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"companies"
							]
						},
						"description": "Lista todas las empresas del usuario autenticado."
					},
					"response": []
				},
				{
					"name": "3.2 - Crear Nueva Empresa (Datos B√°sicos)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('company_id', jsonData.data.id);",
									"        pm.collectionVariables.set('company_ruc', jsonData.data.ruc);",
									"        pm.collectionVariables.set('company_name', jsonData.data.razon_social);",
									"        console.log('‚úÖ Nueva empresa creada - ID: ' + jsonData.data.id);",
									"        console.log('üè¢ Empresa: ' + jsonData.data.razon_social);",
									"        console.log('üìÑ RUC: ' + jsonData.data.ruc);",
									"        console.log('üîß Siguiente paso: Completar configuraci√≥n SUNAT');",
									"    }",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"ruc\": \"20123456789\",\n    \"razon_social\": \"EMPRESA DEMO SUNAT SAC\",\n    \"nombre_comercial\": \"Empresa Demo\",\n    \"direccion\": \"Av. Rep√∫blica de Argentina 123\",\n    \"ubigeo\": \"150101\",\n    \"distrito\": \"Lima\",\n    \"provincia\": \"Lima\",\n    \"departamento\": \"Lima\",\n    \"telefono\": \"01-1234567\",\n    \"email\": \"contacto@empresademo.com\",\n    \"usuario_sol\": \"DEMOUSER\",\n    \"clave_sol\": \"Demo123456\",\n    \"modo_produccion\": 0\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/companies",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"companies"
							]
						},
						"description": "Crea una nueva empresa con datos b√°sicos. Usar modo_produccion: false para testing."
					},
					"response": []
				},
				{
					"name": "3.3 - Ver Empresa Espec√≠fica",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"companies",
								"{{company_id}}"
							]
						},
						"description": "Obtiene detalles completos de una empresa espec√≠fica."
					},
					"response": []
				},
				{
					"name": "3.4 - Actualizar Empresa Completa (Form Data)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "ruc",
									"value": "20123456789",
									"description": "RUC de la empresa (11 d√≠gitos)",
									"type": "text"
								},
								{
									"key": "razon_social",
									"value": "EMPRESA DEMO SUNAT ACTUALIZADA SAC",
									"type": "text"
								},
								{
									"key": "nombre_comercial",
									"value": "Empresa Demo Actualizada",
									"type": "text"
								},
								{
									"key": "usuario_sol",
									"value": "MODDATOS",
									"description": "Usuario SOL para SUNAT",
									"type": "text"
								},
								{
									"key": "clave_sol",
									"value": "MODDATOS",
									"description": "Clave SOL para SUNAT",
									"type": "text"
								},
								{
									"key": "certificado_pem",
									"description": "Certificado digital (.p12/.pfx)",
									"type": "file",
									"src": "postman-cloud:///1f08c1c7-6fc1-4410-9067-f87b6186a81a"
								},
								{
									"key": "certificado_password",
									"value": "123456",
									"description": "Contrase√±a del certificado",
									"type": "text"
								},
								{
									"key": "logo_path",
									"description": "Logo de la empresa",
									"type": "file",
									"src": "postman-cloud:///1efc21cc-1c21-4690-9baf-bf8f949348b1"
								},
								{
									"key": "direccion",
									"value": "Via Libertadores",
									"type": "text"
								},
								{
									"key": "ubigeo",
									"value": "150100",
									"type": "text"
								},
								{
									"key": "distrito",
									"value": "Lima",
									"type": "text"
								},
								{
									"key": "provincia",
									"value": "Lima",
									"type": "text"
								},
								{
									"key": "departamento",
									"value": "San Isidro",
									"type": "text"
								},
								{
									"key": "email",
									"value": "empresademo@gmail.com",
									"type": "text"
								},
								{
									"key": "modo_produccion",
									"value": "0",
									"type": "text"
								},
								{
									"key": "_method",
									"value": "PUT",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"companies",
								"{{company_id}}"
							]
						},
						"description": "Actualiza empresa con certificados, logos y datos completos usando form-data."
					},
					"response": []
				},
				{
					"name": "3.5 - Activar Empresa",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/activate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"companies",
								"{{company_id}}",
								"activate"
							]
						},
						"description": "Activa una empresa para operaciones."
					},
					"response": []
				}
			],
			"description": "Creaci√≥n y gesti√≥n de empresas multi-tenant con configuraciones SUNAT."
		},
		{
			"name": "FASE 4: SUCURSALES Y CORRELATIVOS",
			"item": [
				{
					"name": "5.1 - Crear Sucursal Principal",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('branch_id', jsonData.data.id);",
									"        pm.collectionVariables.set('branch_code', jsonData.data.codigo);",
									"        console.log('‚úÖ Sucursal creada - ID: ' + jsonData.data.id);",
									"        console.log('üè™ Nombre: ' + jsonData.data.nombre);",
									"        console.log('üî¢ C√≥digo: ' + jsonData.data.codigo);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"codigo\": \"0001\",\n    \"nombre\": \"Sucursal Principal\",\n    \"direccion\": \"Av. Rep√∫blica de Argentina 123\",\n    \"ubigeo\": \"150101\",\n    \"distrito\": \"Lima\",\n    \"provincia\": \"Lima\",\n    \"departamento\": \"Lima\",\n    \"telefono\": \"01-1234567\",\n    \"email\": \"principal@empresademo.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/branches",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"branches"
							]
						},
						"description": "Crea la sucursal principal de la empresa."
					},
					"response": []
				},
				{
					"name": "5.2 - Listar Sucursales",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/branches",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"companies",
								"{{company_id}}",
								"branches"
							]
						},
						"description": "Lista todas las sucursales de la empresa."
					},
					"response": []
				},
				{
					"name": "5.3 - Crear Correlativos B√°sicos",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"correlativos\": [\n        {\n            \"tipo_documento\": \"01\",\n            \"serie\": \"F001\",\n            \"correlativo_actual\": 1,\n            \"activo\": true\n        },\n        {\n            \"tipo_documento\": \"03\",\n            \"serie\": \"B001\",\n            \"correlativo_actual\": 1,\n            \"activo\": true\n        },\n        {\n            \"tipo_documento\": \"07\",\n            \"serie\": \"FC01\",\n            \"correlativo_actual\": 1,\n            \"activo\": true\n        },\n        {\n            \"tipo_documento\": \"08\",\n            \"serie\": \"FD01\",\n            \"correlativo_actual\": 1,\n            \"activo\": true\n        },\n        {\n            \"tipo_documento\": \"09\",\n            \"serie\": \"T001\",\n            \"correlativo_actual\": 1,\n            \"activo\": true\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/branches/{{branch_id}}/correlatives/batch",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"branches",
								"{{branch_id}}",
								"correlatives",
								"batch"
							]
						},
						"description": "Crea correlativos para los tipos de documento principales."
					},
					"response": []
				},
				{
					"name": "5.4 - Ver Correlativos de Sucursal",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/branches/{{branch_id}}/correlatives",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"branches",
								"{{branch_id}}",
								"correlatives"
							]
						},
						"description": "Lista todos los correlativos de la sucursal."
					},
					"response": []
				},
				{
					"name": "5.5 - Activar Sucursal",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/branches/{{branch_id}}/activate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"branches",
								"{{branch_id}}",
								"activate"
							]
						},
						"description": "Activa la sucursal para operaciones."
					},
					"response": []
				}
			],
			"description": "Configuraci√≥n de sucursales y sistema de correlativos para documentos."
		},
		{
			"name": "FASE 5: GESTI√ìN DE CLIENTES",
			"item": [
				{
					"name": "6.1 - Crear Cliente Persona Natural",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('client_dni_id', jsonData.data.id);",
									"        console.log('‚úÖ Cliente DNI creado - ID: ' + jsonData.data.id);",
									"        console.log('üë§ Cliente: ' + jsonData.data.razon_social);",
									"        console.log('üìÑ DNI: ' + jsonData.data.numero_documento);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"tipo_documento\": \"1\",\n    \"numero_documento\": \"12345678\",\n    \"razon_social\": \"Juan Carlos P√©rez L√≥pez\",\n    \"direccion\": \"Av. Los Incas 456\",\n    \"ubigeo\": \"150101\",\n    \"distrito\": \"Lima\",\n    \"provincia\": \"Lima\",\n    \"departamento\": \"Lima\",\n    \"telefono\": \"987654321\",\n    \"email\": \"juan.perez@email.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/clients",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"clients"
							]
						},
						"description": "Crea un cliente persona natural (DNI)."
					},
					"response": []
				},
				{
					"name": "6.2 - Crear Cliente Empresa",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('client_ruc_id', jsonData.data.id);",
									"        console.log('‚úÖ Cliente RUC creado - ID: ' + jsonData.data.id);",
									"        console.log('üè¢ Cliente: ' + jsonData.data.razon_social);",
									"        console.log('üìÑ RUC: ' + jsonData.data.numero_documento);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"tipo_documento\": \"6\",\n    \"numero_documento\": \"20987654321\",\n    \"razon_social\": \"CLIENTE CORPORATIVO SAC\",\n    \"nombre_comercial\": \"Cliente Corp\",\n    \"direccion\": \"Av. Javier Prado 1234\",\n    \"ubigeo\": \"150101\",\n    \"distrito\": \"Lima\",\n    \"provincia\": \"Lima\",\n    \"departamento\": \"Lima\",\n    \"telefono\": \"01-2345678\",\n    \"email\": \"contacto@clientecorp.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/clients",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"clients"
							]
						},
						"description": "Crea un cliente empresa (RUC)."
					},
					"response": []
				},
				{
					"name": "6.3 - Listar Clientes",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/clients?per_page=20&search=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"clients"
							],
							"query": [
								{
									"key": "per_page",
									"value": "20"
								},
								{
									"key": "search",
									"value": ""
								}
							]
						},
						"description": "Lista clientes con paginaci√≥n y b√∫squeda."
					},
					"response": []
				},
				{
					"name": "6.4 - Buscar Cliente por Documento",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"tipo_documento\": \"6\",\n    \"numero_documento\": \"20987654321\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/clients/search-by-document",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"clients",
								"search-by-document"
							]
						},
						"description": "Busca cliente por tipo y n√∫mero de documento."
					},
					"response": []
				}
			],
			"description": "Sistema de gesti√≥n de clientes con validaci√≥n de documentos peruanos."
		},
		{
			"name": "FASE 6: GU√çAS DE REMISI√ìN ELECTR√ìNICAS (GRE)",
			"item": [
				{
					"name": "10.1 - Configurar Credenciales GRE",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"environment\": \"beta\",\n    \"client_id\": \"{{gre_client_id_beta}}\",\n    \"client_secret\": \"{{gre_client_secret_beta}}\",\n    \"ruc_proveedor\": \"{{company_ruc}}\",\n    \"usuario_sol\": \"MODDATOS\",\n    \"clave_sol\": \"MODDATOS\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/gre-credentials",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"companies",
								"{{company_id}}",
								"gre-credentials"
							]
						},
						"description": "Configura credenciales para GRE (Gu√≠as de Remisi√≥n Electr√≥nicas)."
					},
					"response": []
				},
				{
					"name": "10.2 - Probar Conexi√≥n GRE",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/gre-credentials/test-connection",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"companies",
								"{{company_id}}",
								"gre-credentials",
								"test-connection"
							]
						},
						"description": "Prueba la conexi√≥n con los servicios GRE de SUNAT."
					},
					"response": []
				},
				{
					"name": "10.3 - Crear Gu√≠a de Remisi√≥n",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('dispatch_guide_id', jsonData.data.id);",
									"        console.log('‚úÖ Gu√≠a de remisi√≥n creada - ID: ' + jsonData.data.id);",
									"        console.log('üìÑ N√∫mero: ' + jsonData.data.numero_completo);",
									"        console.log('üöö Motivo traslado: ' + jsonData.data.motivo_traslado);",
									"    }",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n  {\n      \"company_id\": 1,\n      \"branch_id\": 1,\n      \"destinatario_id\": 2,\n      \"serie\": \"T001\",\n      \"fecha_emision\": \"2025-09-15\",\n      \"fecha_traslado\": \"2025-09-15\",\n\n      \"cod_traslado\": \"01\",\n      \"des_traslado\": \"Venta\",\n      \"mod_traslado\": \"02\",\n      \"peso_total\": 12.5,\n      \"und_peso_total\": \"KGM\",\n      \"num_bultos\": 1,\n\n      \"partida_ubigeo\": \"150203\",\n      \"partida_direccion\": \"AV ITALIA\",\n      \"llegada_ubigeo\": \"150101\",\n      \"llegada_direccion\": \"AV LIMA\",\n\n      \"vehiculo_placa\": \"ABC123\",\n      \"vehiculo_placa_secundaria\": \"ABI456\",\n\n      \"conductor_tipo\": \"Principal\",\n      \"conductor_tipo_doc\": \"1\",\n      \"conductor_num_doc\": \"44004400\",\n      \"conductor_licencia\": \"0001122020\",\n      \"conductor_nombres\": \"ROBERTO\",\n      \"conductor_apellidos\": \"RODRIGUEZ VALENCIA\",\n\n      \"detalles\": [\n          {\n              \"cantidad\": 2,\n              \"unidad\": \"ZZ\",\n              \"descripcion\": \"PROD 1\",\n              \"codigo\": \"PROD1\",\n              \"peso_total\": 12.5\n          }\n      ],\n\n      \"usuario_creacion\": \"POSTMAN_TEST\"\n  }"
						},
						"url": {
							"raw": "{{base_url}}/v1/dispatch-guides",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"dispatch-guides"
							]
						},
						"description": "Crea una gu√≠a de remisi√≥n con todos los datos requeridos."
					},
					"response": []
				},
				{
					"name": "10.4 - Listar Gu√≠as de Remisi√≥n",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/dispatch-guides?company_id={{company_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"dispatch-guides"
							],
							"query": [
								{
									"key": "company_id",
									"value": "{{company_id}}"
								}
							]
						},
						"description": "Lista todas las gu√≠as de remisi√≥n."
					},
					"response": []
				},
				{
					"name": "10.5 - Enviar Gu√≠a a SUNAT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/dispatch-guides/{{dispatch_guide_id}}/send-sunat",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"dispatch-guides",
								"{{dispatch_guide_id}}",
								"send-sunat"
							]
						},
						"description": "Env√≠a la gu√≠a de remisi√≥n a SUNAT GRE."
					},
					"response": []
				}
			],
			"description": "Sistema completo de gu√≠as de remisi√≥n electr√≥nicas con integraci√≥n SUNAT GRE."
		},
		{
			"name": "FASE 7: ANULACIONES Y COMUNICACIONES DE BAJA",
			"item": [
				{
					"name": "11.1 - Obtener Documentos Disponibles para Anular",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/voided-documents/available?company_id={{company_id}}&fecha=2024-01-15",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"voided-documents",
								"available"
							],
							"query": [
								{
									"key": "company_id",
									"value": "{{company_id}}"
								},
								{
									"key": "fecha",
									"value": "2024-01-15"
								}
							]
						},
						"description": "Obtiene documentos que pueden ser anulados para una fecha espec√≠fica."
					},
					"response": []
				},
				{
					"name": "11.2 - Crear Comunicaci√≥n de Baja",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('voided_document_id', jsonData.data.id);",
									"        console.log('‚úÖ Comunicaci√≥n de baja creada - ID: ' + jsonData.data.id);",
									"        console.log('üìÑ Identificador: ' + jsonData.data.identificador);",
									"        console.log('üìÖ Fecha referencia: ' + jsonData.data.fecha_referencia);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"branch_id\": {{branch_id}},\n    \"fecha_referencia\": \"2024-01-15\",\n    \"fecha_comunicacion\": \"2024-01-16\",\n    \"motivo\": \"Error en la emisi√≥n del comprobante\",\n    \"documents\": [\n        {\n            \"tipo_documento\": \"01\",\n            \"serie\": \"F001\",\n            \"correlativo\": \"1\",\n            \"motivo_baja\": \"Error en datos del cliente\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/voided-documents",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"voided-documents"
							]
						},
						"description": "Crea una comunicaci√≥n de baja para anular documentos."
					},
					"response": []
				},
				{
					"name": "11.3 - Enviar Comunicaci√≥n de Baja a SUNAT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/voided-documents/{{voided_document_id}}/send-sunat",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"voided-documents",
								"{{voided_document_id}}",
								"send-sunat"
							]
						},
						"description": "Env√≠a la comunicaci√≥n de baja a SUNAT."
					},
					"response": []
				},
				{
					"name": "11.4 - Consultar Estado de Comunicaci√≥n",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/voided-documents/{{voided_document_id}}/check-status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"voided-documents",
								"{{voided_document_id}}",
								"check-status"
							]
						},
						"description": "Consulta el estado de la comunicaci√≥n de baja en SUNAT."
					},
					"response": []
				}
			],
			"description": "Sistema de anulaci√≥n de documentos y comunicaciones de baja a SUNAT."
		},
		{
			"name": "FASE 8: CONSULTAS CPE AVANZADAS",
			"item": [
				{
					"name": "12.1 - Consultar Factura Individual",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}}\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/consulta-cpe/factura/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"consulta-cpe",
								"factura",
								"1"
							]
						},
						"description": "Consulta estado de factura con descarga de CDR si est√° disponible."
					},
					"response": []
				},
				{
					"name": "Consultar Boletas",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}}\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/consulta-cpe-v2/factura/{{invoice_id}}/con-cdr",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"consulta-cpe-v2",
								"factura",
								"{{invoice_id}}",
								"con-cdr"
							]
						},
						"description": "Consulta estado de factura con descarga de CDR si est√° disponible."
					},
					"response": []
				},
				{
					"name": "Consultar Notas de Cr√©dito",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}}\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/consulta-cpe-v2/factura/{{invoice_id}}/con-cdr",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"consulta-cpe-v2",
								"factura",
								"{{invoice_id}}",
								"con-cdr"
							]
						},
						"description": "Consulta estado de factura con descarga de CDR si est√° disponible."
					},
					"response": []
				},
				{
					"name": "Consultar Notas de D√©bito",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}}\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/consulta-cpe-v2/factura/{{invoice_id}}/con-cdr",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"consulta-cpe-v2",
								"factura",
								"{{invoice_id}}",
								"con-cdr"
							]
						},
						"description": "Consulta estado de factura con descarga de CDR si est√° disponible."
					},
					"response": []
				},
				{
					"name": "12.2 - Consulta por Datos Directos",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"ruc_emisor\": \"{{company_ruc}}\",\n    \"tipo_documento\": \"01\",\n    \"serie\": \"F001\",\n    \"correlativo\": \"1\",\n    \"fecha_emision\": \"2024-01-15\",\n    \"monto_total\": 826.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/consulta-cpe-v2/por-datos",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"consulta-cpe-v2",
								"por-datos"
							]
						},
						"description": "Consulta CPE proporcionando directamente los datos del documento."
					},
					"response": []
				},
				{
					"name": "12.3 - Consulta Masiva por IDs",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"document_ids\": [\n        {{invoice_id}},\n        {{boleta_id}}\n    ],\n    \"tipos_documento\": [\"01\", \"03\"],\n    \"descargar_cdr\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/consulta-cpe-v2/masivo",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"consulta-cpe-v2",
								"masivo"
							]
						},
						"description": "Realiza consultas masivas de m√∫ltiples documentos."
					},
					"response": []
				},
				{
					"name": "12.4 - Estad√≠sticas de Consultas",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/consulta-cpe-v2/estadisticas?company_id={{company_id}}&fecha_desde=2024-01-01&fecha_hasta=2024-01-31",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"consulta-cpe-v2",
								"estadisticas"
							],
							"query": [
								{
									"key": "company_id",
									"value": "{{company_id}}"
								},
								{
									"key": "fecha_desde",
									"value": "2024-01-01"
								},
								{
									"key": "fecha_hasta",
									"value": "2024-01-31"
								}
							]
						},
						"description": "Obtiene estad√≠sticas de consultas CPE por per√≠odo."
					},
					"response": []
				}
			],
			"description": "Sistema avanzado de consultas CPE con OAuth2 y fallback SOAP."
		},
		{
			"name": "FASE 9: SERVICIOS DE UBIGEO PERUANO",
			"item": [
				{
					"name": "13.1 - Listar Regiones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/ubigeos/regiones",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"ubigeos",
								"regiones"
							]
						},
						"description": "Lista todas las regiones del Per√∫."
					},
					"response": []
				},
				{
					"name": "13.2 - Listar Provincias de Lima",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/ubigeos/provincias?region_id=150000",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"ubigeos",
								"provincias"
							],
							"query": [
								{
									"key": "region_id",
									"value": "150000",
									"description": "C√≥digo de regi√≥n Lima"
								}
							]
						},
						"description": "Lista provincias de una regi√≥n espec√≠fica."
					},
					"response": []
				},
				{
					"name": "13.3 - Listar Distritos de Lima Metropolitana",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/ubigeos/distritos?provincia_id=150100",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"ubigeos",
								"distritos"
							],
							"query": [
								{
									"key": "provincia_id",
									"value": "150100",
									"description": "C√≥digo de provincia Lima"
								}
							]
						},
						"description": "Lista distritos de una provincia espec√≠fica."
					},
					"response": []
				},
				{
					"name": "13.4 - Buscar Ubigeo por Nombre",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/ubigeos/search?q=miraflores",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"ubigeos",
								"search"
							],
							"query": [
								{
									"key": "q",
									"value": "miraflores",
									"description": "T√©rmino de b√∫squeda"
								}
							]
						},
						"description": "Busca ubicaciones geogr√°ficas por nombre."
					},
					"response": []
				},
				{
					"name": "13.5 - Obtener Ubigeo por C√≥digo",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/ubigeos/150101",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"ubigeos",
								"150101"
							]
						},
						"description": "Obtiene informaci√≥n completa de un ubigeo espec√≠fico."
					},
					"response": []
				}
			],
			"description": "Servicios completos de c√≥digos geogr√°ficos del Per√∫ (INEI)."
		},
		{
			"name": "FASE 10: CONFIGURACIONES GENERALES Y REPORTES",
			"item": [
				{
					"name": "14.1 - Ver Configuraciones por Defecto",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/config/defaults",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"config",
								"defaults"
							]
						},
						"description": "Obtiene configuraciones por defecto del sistema."
					},
					"response": []
				},
				{
					"name": "14.2 - Resumen de Configuraciones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/config/summary?company_id={{company_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"config",
								"summary"
							],
							"query": [
								{
									"key": "company_id",
									"value": "{{company_id}}"
								}
							]
						},
						"description": "Resumen completo de configuraciones por empresa."
					},
					"response": []
				},
				{
					"name": "14.3 - Ver Tipos de Documento SUNAT",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/correlatives/document-types",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"correlatives",
								"document-types"
							]
						},
						"description": "Lista todos los tipos de documento SUNAT disponibles."
					},
					"response": []
				},
				{
					"name": "14.4 - Ver Formatos PDF Disponibles",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/pdf/formats",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"pdf",
								"formats"
							]
						},
						"description": "Lista formatos de PDF disponibles para generaci√≥n."
					},
					"response": []
				}
			],
			"description": "Configuraciones del sistema y generaci√≥n de reportes."
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Configuraci√≥n autom√°tica de variables de ambiente",
					"const environment = pm.collectionVariables.get('environment') || 'beta';",
					"",
					"// URLs base seg√∫n ambiente",
					"if (environment === 'beta') {",
					"    pm.collectionVariables.set('sunat_billing_endpoint', 'https://e-beta.sunat.gob.pe/ol-ti-itcpfegem-beta/billService');",
					"    pm.collectionVariables.set('sunat_gre_endpoint', 'https://api-cpe-beta.sunat.gob.pe/v1/');",
					"    pm.collectionVariables.set('sunat_oauth_endpoint', 'https://api-beta.sunat.gob.pe');",
					"} else {",
					"    pm.collectionVariables.set('sunat_billing_endpoint', 'https://e-factura.sunat.gob.pe/ol-ti-itcpfegem/billService');",
					"    pm.collectionVariables.set('sunat_gre_endpoint', 'https://api-cpe.sunat.gob.pe/v1/');",
					"    pm.collectionVariables.set('sunat_oauth_endpoint', 'https://api.sunat.gob.pe');",
					"}",
					"",
					"console.log('üåê Ambiente actual: ' + environment);",
					"console.log('üîó Endpoint facturaci√≥n: ' + pm.collectionVariables.get('sunat_billing_endpoint'));"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Logging autom√°tico de respuestas para debugging",
					"if (pm.response.code >= 400) {",
					"    console.log('‚ùå Error en request: ' + pm.request.name);",
					"    console.log('üìä Status: ' + pm.response.code);",
					"    console.log('üìù Response: ' + pm.response.text());",
					"} else if (pm.response.code >= 200 && pm.response.code < 300) {",
					"    console.log('‚úÖ Success: ' + pm.request.name + ' (' + pm.response.code + ')');",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000/api",
			"type": "string",
			"description": {
				"content": "URL base del API - Cambiar seg√∫n ambiente",
				"type": "text/plain"
			}
		},
		{
			"key": "environment",
			"value": "beta",
			"type": "string",
			"description": {
				"content": "Ambiente: 'beta' para pruebas, 'produccion' para uso real",
				"type": "text/plain"
			}
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string",
			"description": {
				"content": "Token de acceso - Se asigna autom√°ticamente al hacer login",
				"type": "text/plain"
			}
		},
		{
			"key": "token_type",
			"value": "Bearer",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_name",
			"value": "",
			"type": "string"
		},
		{
			"key": "company_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "ID de empresa - Se asigna al crear/seleccionar empresa",
				"type": "text/plain"
			}
		},
		{
			"key": "company_ruc",
			"value": "",
			"type": "string"
		},
		{
			"key": "company_name",
			"value": "",
			"type": "string"
		},
		{
			"key": "branch_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "ID de sucursal - Se asigna al crear sucursal",
				"type": "text/plain"
			}
		},
		{
			"key": "branch_code",
			"value": "",
			"type": "string"
		},
		{
			"key": "client_dni_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "ID de cliente persona natural",
				"type": "text/plain"
			}
		},
		{
			"key": "client_ruc_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "ID de cliente empresa",
				"type": "text/plain"
			}
		},
		{
			"key": "invoice_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "invoice_number",
			"value": "",
			"type": "string"
		},
		{
			"key": "boleta_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "boleta_number",
			"value": "",
			"type": "string"
		},
		{
			"key": "credit_note_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "debit_note_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "dispatch_guide_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "daily_summary_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "voided_document_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "sunat_billing_endpoint",
			"value": "",
			"type": "string",
			"description": {
				"content": "Endpoint SUNAT para facturaci√≥n - Se configura autom√°ticamente",
				"type": "text/plain"
			}
		},
		{
			"key": "sunat_gre_endpoint",
			"value": "",
			"type": "string",
			"description": {
				"content": "Endpoint SUNAT para GRE - Se configura autom√°ticamente",
				"type": "text/plain"
			}
		},
		{
			"key": "sunat_oauth_endpoint",
			"value": "",
			"type": "string",
			"description": {
				"content": "Endpoint OAuth2 SUNAT - Se configura autom√°ticamente",
				"type": "text/plain"
			}
		},
		{
			"key": "gre_client_id_beta",
			"value": "demo_client_beta",
			"type": "string",
			"description": {
				"content": "Client ID para GRE ambiente Beta",
				"type": "text/plain"
			}
		},
		{
			"key": "gre_client_secret_beta",
			"value": "demo_secret_beta",
			"type": "string",
			"description": {
				"content": "Client Secret para GRE ambiente Beta",
				"type": "text/plain"
			}
		},
		{
			"key": "gre_client_id_prod",
			"value": "",
			"type": "string",
			"description": {
				"content": "Client ID para GRE ambiente Producci√≥n",
				"type": "text/plain"
			}
		},
		{
			"key": "gre_client_secret_prod",
			"value": "",
			"type": "string",
			"description": {
				"content": "Client Secret para GRE ambiente Producci√≥n",
				"type": "text/plain"
			}
		}
	]
}